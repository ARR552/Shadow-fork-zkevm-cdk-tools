// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import {Script, console} from "./forge-std/Script.sol";


// ZKEVM interface for interacting with the rollup
interface IZKEVM {
    struct BatchData {
        bytes transactions;
        bytes32 forcedGlobalExitRoot;
        uint64 forcedTimestamp;
        bytes32 forcedBlockHashL1;
    }
    function sequenceBatches(BatchData[] calldata batches, uint64 maxSequenceTimestamp, uint64 lastSequencedBatchNumber, address l2Coinbase) external;
    // function admin() external returns (address);
}

interface IRollupManager {
    function totalSequencedBatches() external returns (uint256);
}

// SequenceBatches is a contract that sets up and runs the script
contract SequenceBatches is Script {
    IZKEVM zkevm; // Interface instance for zkevm
    IRollupManager rollupManager;
    address sequencerAddress = 0x761d53b47334bEe6612c0Bd1467FB881435375B2; // Sequencer account
    address recipient = 0xBc3cD9B0933340faAcdF4E743197E0ceA7FC6Dfb; // Random account
    address zkevmAddress = 0xA13Ddb14437A8F34897131367ad3ca78416d6bCa; // ZKEVM proxy address
    address rollupManagerAddress = 0x32d33D5137a7cFFb54c5Bf8371172bcEc5f310ff;
    
    // setUp function runs before each test, setting up the environment
    function setUp() public {
        zkevm = IZKEVM(zkevmAddress); // Initialize the Zkevm contract interface
        rollupManager = IRollupManager(rollupManagerAddress);

        // Impersonate the sequencer account for testing
        // vm.startPrank(sequencerAddress);
    }

    function run() public {
        SendSequenceBatches();
    }

    // SendSequenceBatches function tests the sequences
    function SendSequenceBatches() public {
        // Check sequences
        uint256 initts = rollupManager.totalSequencedBatches();
        console.log("init ts: ", initts);
        // Create sequence
        IZKEVM.BatchData memory data = IZKEVM.BatchData({
            transactions: "0b0000000500009d230b0000000300009d240b0000000300009d250b0000000400009d260b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f9050f82278585054efc64008326c58294eadfa914e7abf33179e7820bd13043962a7b5f9d80b904e497b1410f0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000049c3007b1c94558e62b792f3ddf475f102394dd05dd3b884f7034fdce7334c1260e382923b882629e799176577ae81b710d9d1d087c9b2a8ab77bd233415da4e7ae00207ad1128d8317b9d23b8a22962555d2d761d26d898a0a27b13899d4219e09f6d918dd49d4ac3b31a6468446597686e7164bfb88a09685d3cd31f8f4b0b91e7d86a16058cb76cedb35e3697b469d9a5d35150965deb79a8dfbb0f6cb14b6ff264d992035292ca92e1b48c5100275c243e2f5564c1aaf265b1908d1538be62934d74346ad4511a7da447f21635c46f43ed9f7c2dbfb99a56dbbfb5cda2c246edc9554f4e08d369992b03ab452f9070c591e1f51452fb6670f6d50606001079a1a69887c22bd8750d34016ac3c66b5ff102dacdd73f6b014e710b51e8022af9a19685775549585cf406809f8d86b7ff262dfcdf5d04ab752db028c4efd8726ecd9b79867cc5f7f196b93bae1e27e6320742445d290f2263827498b54fec539f756afcefad4e508c098b9a7e1d8feb19955fb02ba9675585078710969d3440f5054e0f9dc3e7fe016e050eff260334f18a5d4fe391d82092319f5964f2e2eb7c1c3a5e561478424090a4a805f0d854d27ed77debaf3da06bf02e7fbddd882ba77bfe31fc877fff5c8f3fc9f755e006df65c365c28f511ef2cd98a60ddee408bc18db8c1df82d9c4b87413eae2ef048f94b4d3554cea73d92b0f7af96e0271c691e2bb5c67add7c6caf302256adedf7ab114da0acfe870d449a3a489f781d659e8becc6a67b0dc35f3f097625d5b1d2f76401cddb0cd5126dfcc57948f0aaf0bd9b6152733e50f526ec2fa19a22b31e8ed50f23cd1fdf94c9154ed3a7609a2f1ff981fe1d3b5c807b281e4683cc6d6315cf95b9ade8641defcb32372f1c126e398ef7a5a2dce0a8a7f68bb74560f8f71837c2c2ebbcbf7fffb42ae1896f13f7c7479a0b46a28b6f55540f89444f63de0378e3d121be09e06cc9ded1c20e65876d36aa0c65e9645644786b620e2dd2ad648ddfcbf4a7e5b1a3a4ecfe7f64667a3f0b7e2f4418588ed35a2458cffeb39b93d26f18d2ab13bdce6aee58e7b99359ec2dfd95a9c16dc00d6ef18b7933a6f8dc65ccb55667138776f7dea101070dc8796e3774df84f40ae0c8229d0d6069e5c8f39a7c299677a09d367fc7b05e3bc380ee652cdc72595f74c7b1043d0e1ffbab734648c838dfb0527d971b602bc216c9619ef0abf5ac974a1ed57f4050aa510dd9c74f508277b39d7973bb2dfccc5eeb0618db8cd74046ff337f0a7bf2c8e03e10f642c1886798d71806ab1e888d9e5ee87d0838c5655cb21c6cb83313b5a631175dff4963772cce9108188b34ac87c81c41e662ee4dd2dd7b2bc707961b1e646c4047669dcb6584f0d8d770daf5d7e7deb2e388ab20e2573d171a88108e79d820e98f26c0b84aa8b2f4aa4968dbb818ea32293237c50ba75ee485f4c22adf2f741400bdf8d6a9cc7df7ecae576221665d7358448818bb4ae4562849e949e17ac16e0be16688e156b5cf15e098c627c0056a9000100000000000098b60000000000000000000000000000000000000000000000009af3049dd15616fd627a35563b5282bea5c32e2000000000000000000000000000000000000000000000000000005af3107a4000000000000000000082098a80801162eb4fe2ee52a8aca510b203e5e1f95edd78a13ddac196b0f5ba860e6b6e3d1fe2839611c157e6baa468be55b0d7c03be10506798bd5a4b9b0c96f81c6b5de1cff0b00000003000000000b00000004000000000b00000003000000000b0000000300000000ef83054451850fa56ea00082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80809ac61e08a3932de72e40b27f6614cf74b35d220c332ed6a660c7098a2185338c07a24e0949777f57a5b0b59ba2b6b5061843318070e9c32520176d3e1154907e1bff0b00000003000000000b0000000300000000ef8305445285053724e00082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080ad720e320cb30d08d86b49b5b2f07958045e53c4ff96fdb3ab65c8ed926f2dac717a09f6d104f2963ced38265f7536497bc18025b31457c88523e872a6356b741bff0b00000003000000000b00000003000000000b0000000400000000f9050f822786850525433d008326c58294eadfa914e7abf33179e7820bd13043962a7b5f9d80b904e497b1410f0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000049c3007b1c94558e62b792f3ddf475f102394dd05dd3b884f7034fdce7334c1260e382923b882629e799176577ae81b710d9d1d087c9b2a8ab77bd233415da4e7ae00209cfa83054e621ea7fa978c281e2c5dab856d6cd50e87ad61340e32e8a9505b97ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5b4c11951957c6f8f642c4af61cd6b24640fec6dc7fc607ee8206a99e92410d301a049611530191181bbeb057833a9f73a2b44ff511cb287cabc5acd7049cd5154346ad4511a7da447f21635c46f43ed9f7c2dbfb99a56dbbfb5cda2c246edc9554f4e08d369992b03ab452f9070c591e1f51452fb6670f6d50606001079a1a69887c22bd8750d34016ac3c66b5ff102dacdd73f6b014e710b51e8022af9a19685775549585cf406809f8d86b7ff262dfcdf5d04ab752db028c4efd8726ecd9b79867cc5f7f196b93bae1e27e6320742445d290f2263827498b54fec539f756afcefad4e508c098b9a7e1d8feb19955fb02ba9675585078710969d3440f5054e0f9dc3e7fe016e050eff260334f18a5d4fe391d82092319f5964f2e2eb7c1c3a5e561478424090a4a805f0d854d27ed77debaf3da06bf02e7fbddd882ba77bfe31fc877fff5c8f3fc9f755e006df65c365c28f511ef2cd98a60ddee408bc18db8c1df82d9c4b87413eae2ef048f94b4d3554cea73d92b0f7af96e0271c691e2bb5c67add7c6caf302256adedf7ab114da0acfe870d449a3a489f781d659e8becc6a67b0dc35f3f097625d5b1d2f76401cddb0cd5126dfcc57948f0aaf0bd9b6152733e50f526ec2fa19a22b31e8ed50f23cd1fdf94c9154ed3a7609a2f1ff981fe1d3b5c807b281e4683cc6d6315cf95b9ade8641defcb32372f1c126e398ef7a5a2dce0a8a7f68bb74560f8f71837c2c2ebbcbf7fffb42ae1896f13f7c7479a0b46a28b6f55540f89444f63de0378e3d121be09e06cc9ded1c20e65876d36aa0c65e9645644786b620e2dd2ad648ddfcbf4a7e5b1a3a4ecfe7f64667a3f0b7e2f4418588ed35a2458cffeb39b93d26f18d2ab13bdce6aee58e7b99359ec2dfd95a9c16dc00d6ef18b7933a6f8dc65ccb55667138776f7dea101070dc8796e3774df84f40ae0c8229d0d6069e5c8f39a7c299677a09d367fc7b05e3bc380ee652cdc72595f74c7b1043d0e1ffbab734648c838dfb0527d971b602bc216c9619ef0abf5ac974a1ed57f4050aa510dd9c74f508277b39d7973bb2dfccc5eeb0618db8cd74046ff337f0a7bf2c8e03e10f642c1886798d71806ab1e888d9e5ee87d0838c5655cb21c6cb83313b5a631175dff4963772cce9108188b34ac87c81c41e662ee4dd2dd7b2bc707961b1e646c4047669dcb6584f0d8d770daf5d7e7deb2e388ab20e2573d171a88108e79d820e98f26c0b84aa8b2f4aa4968dbb818ea32293237c50ba75ee485f4c22adf2f741400bdf8d6a9cc7df7ecae576221665d7358448818bb4ae4562849e949e17ac16e0be16688e156b5cf15e098c627c0056a9000100000000000098b80000000000000000000000000000000000000000000000009af3049dd15616fd627a35563b5282bea5c32e2000000000000000000000000000000000000000000000000000005af3107a4000000000000000000082098a808001bae7e1b745afa7f7e99ca0f40276cb4df80ee5dabef308cbdfd23d46f87881571a0a6aa058fd3f663a3103ade81754cc81530705621acf813e8f1377e9a8121cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef83054453850cec0ecb0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80809bee1b4d3661e365c65a5c56503219d8bb062eea8cc923514199884b832baead7bddd2cf68d55caeba32e92c917b0c1be2c23842d9c2ac728ccab163a36559241cff0b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b0000000300000000f9044f8201b08509c7652400837a120094fff1920d552559a3a82d85353ab9b995a78578fc80b90424b1dc65a400014e289533b52f7b41a99e237358e3fb082a40a42451346007155c3138be0b0000000000000000000000000000000000000000000000000000000000050703cc4ce8793bb80922a6d43a68a8995c0d9f47c65b7d0ceeeb747d7f821917c09500000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000260000000000000000000000000000000000000000000000000000000000000034001010100010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000de41ba4fc9d91ad900000000000000000000000000000000000000000000000000016791fec1586c000000000000000000000000000000000000000000000000000000000000000692509a44f1f66bdc452e430c8838f21e393fedefd703c4c1039a1c015b78071be255cfa2f962423da7f410826b198f06ab97cc43605b5b61f2a45f740269d577f28741338eaecbd2e25a899686dfc610b55073e7354d3a6458b7fe23a301993596b33b0c396b7b8fed859a90e52e9ba62f90ad93bbe0a50af167b1d4d6713038a1a73e30ab723306a640904d0643d1b8fc59905b0235b97c6bbac9a75cfbdd0fb7d38bc2331044c0f529d75a5c8c1c96b55a42d99da9689b3b01e31bf274505c00000000000000000000000000000000000000000000000000000000000000063d17071ebed70b208769648144aff5a1d5fb574215ea8c33ce252e33dc3bd009734a0bbfe92efd20947df6f7ef096230d8df27833f9c0a7fccc1c508c5e7e5a05682720954141dd81cd5b380bb5738e37e8dce7ec08d0dd7cb1ad442b1ec1da66deb10467d11d3214c0c5c57a95934be74fae1a1cdf7ed2e9d51d6342c0b731977f402c9535e0d9c9e839198be7acce279548356155773f9d2bce7ab0d9018051484c4422854da73113db696b8dc93e13d117a4e9cfe4c97ac1b7f403aab1d6d82098a8080d589214d3fb4c38893e8aac05532c243ede9367a184616a0a40e3204e15168b5158c5142680d11fb0c1200a727eaf025f3fbd3cc8a34a512a03d12ab6f4d91821cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef83054454850d9edf290082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080f1ebadf63ceee0dc2d2d49198473894476ca72119e7479513f0cffa75d494b05630f7ef29db46fe974c84e71050b7d94c356fff9598825dd9dd8b2def4f026a31bffef83054455850d9edf290082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080929f0de4b3471ec3479a204722014372143a9d59064bed1920d944e49e64e1cb0b54911559ae5bc04683de96c2567ed09d3638e255c601a8e72874a34a4382341bff0b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b0000000300000000ef8305445685047868c00082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80807c6885cf918b4075ed0c2741d48746037eb15eed10f7bd848751aaf4d346ff484b431629154eda38f445c9d638c8c048d3d39baf0c52dd9b05474d136e4998621cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef83054457850b984fb20082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80808f28ee68e4625bf7e879a4ac43c83c2178c8b24f36caf762b766c30d062a72261dfb71db65485a72b0c5455ab25eba94b67a5ce52867e380ee74a1d5786a80ea1bff0b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8305445885107c02440082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080ebf69dd173a235d503dc27dbd15266e65e2c9c82393b04c88210a8386dc9a68865d1d7318a17feb32e8d89f72b6199610c365d9f4a631e4fdfa4c54bed5fa00c1bffef8305445985107c02440082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080f161802b8902babc6615cea1758f2f1e93156c76f98933426d5c907353ed28db23cd8feb0ebe5636f0c14309ca377c242a5f5a3c0f56277db936b552cf1e409c1bff0b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b0000000300000000ef8305445a85050775d80082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80802565967cdc7f287e34aa2e3ef80761a22929f9d00b949bd057a37821fdcbf6df660f5501bb52aa3a351441122d52357fce6683a7a09ccd564465bcedd730300f1cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8305445b850e0a28fb0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080a346aa1f043bc0929c52bd1c2118031188ddf6dde9b54adae6ab8b6fa0e50e57428bee6f3d9fac3b26d5e3eaf34559786ea93a8156e080e276aa7cd3380cc49a1bff0b0000000300000000f9056f827ddb8504ae0da900830f9f12948af367b161fa897fa7e89262c9b4ecb8bc0d7d5680b9054457ffc86100000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000074f799e94a4a52b740fe00160677d02c08d7ddb4de65b733a6ca25d394d722c99dc6b6aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa000000000000000000000000000000000000000000000000000000000000000113c971601463d3aa6f2cb7e395051b4612c31cd41c42db9121e986284f726e5507e3c16088eea03183c04a49e70b5788357857facd39a2a85ee4e588e08ef39e0000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000010000000000000000000000004e70004b01987b4fd7dacab348f0b39e9ae2611000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000290000000000000000000000000000000000000000000000000f00e144ce0de8000000000000000000000000000000000000000000000000000000000066fa8bb9000000000000000000000000000000000000000000000000000000000000000145d90b3802058098147b73a107ae08b5ff0591082e24b923f10c16c508dc263b000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000020000000000000000000000004e70004b01987b4fd7dacab348f0b39e9ae26110000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000f43ef0ed5ca8c000000000000000000000000000000000000000000000000000000000066fa8bb9000000000000000000000000000000000000000000000000000000000000000169acc6a8747ba46c6935c9afd3f7c5f034cb7381999786b620b2cace50b8cff90000000000000000000000000000000000000000000000000000000000000002ff0100000000000000000000000000000000000000000000000000000000000082098a8080774a3801b7b69099712d5e976877c39cc0f5e770a05db7fcd583de6cd67b9a091507a4fad29ea62cd2f616b2e7b9c2878d5c7035e0fac22485a9651b141e0b5e1bff0b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8305445c850ef29e420082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80804234335bcfcb14167d88c9eeef4d1b8d8e0a2380a1a9a61b586b1f55dae6697040cbc1d2b8dc8149a6f644052d693cd799176d84680dde2482025106a6fbe61f1bff0b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8305445d850cec0ecb0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808010c9945ae2a017dac4623d5b2371af1a1b5adea38f59b154d547a955bbc7032d017a86b8937a197e36e320eeae3f8f317f3dbf1669c9fd7855d35fceae5cbd7b1cff0b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000400000000ef8305445e850e1c0a9e0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080497c3ba26a0d46a1a45bc182e30d29d9878d0ae07e068028f385dd5c7e4bccb3638f98aafd9ccab9949a0c031e7ba7943372b486a3e30b8d78ad97ae111bcb1f1bffef8305445f850e1c0a9e0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a80808f76f9f8323b6e11430fd6a7b7ad87b37a59f0a78dd772c64b46ac76e8ea422507dc5874983c9cbeeb4d2df21e532a23f68138719c3541b80a0fb771b8a468021bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8203eb85054906830082520894a5dbab1d450012454059b509d4eccd3a48f6d77587038d7ea4c680008082098a8080bd4bba3fb6eab25e9c7fee3b447e2f773a6166311d8daa49757208b87886541b6da9237649bc25b5e15d1c0bf13c3473ea3fd28c6081b7b181f4b134d154ceb91bff0b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000ef8305446085054310a20082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080cd02655db4633e075a6ae498bdabeedb45cb2732c472ce857c729e716fc78f014591c32f8826dafa4938c74b0f8af7c869ca15668caf70e5337a98c2ea1123c91cff0b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000400000000f86d82050f850b984fb20082ea60945576815a38a3706f37bf815b261ccc7cca77e97580b844a9059cbb0000000000000000000000000807340a794be51ec0935055685b3c7bb041a2100000000000000000000000000000000000000000000000015af1d78b58c4000082098a80809a1c61d094efd99e7f9ec6ac916ad229a86eff37778c4ada61e81be80da8611227051a048ab4448635ee40653efde5e5c3d508b1d419ab22086af169ff55d09c1bfff0820510850b984fb20082ea60940807340a794be51ec0935055685b3c7bb041a21088016345785d8a00008082098a8080f6cf64150f92651c2d35e16230d54bccc5290efb334d72e93113291f69393f0a5dc83c7430597f510da1a78e3544f6516689dfe5e5b9761624dc9a10c6d73cef1bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b0000000300000000f9044f8201ae850cec0ecb00837a120094fff1920d552559a3a82d85353ab9b995a78578fc80b90424b1dc65a400014e289533b52f7b41a99e237358e3fb082a40a42451346007155c3138be0b0000000000000000000000000000000000000000000000000000000000050d03513ae66921781a2ed1ced31e9f59bceaafaf60d0eadf60e5eb7d7d2d4a72f48900000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000260000000000000000000000000000000000000000000000000000000000000034001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000de41ba4fc9d91ad90000000000000000000000000000000000000000000000000002291be6de86a10000000000000000000000000000000000000000000000000000000000000006398fe79346606e144e9bc86e6cd07c021019eebd2953e0148d2da971a378ef986d4e2350f68967a1c5b8911209596545f915ceb37cc37f0b0e50e56c3d54759ae927b961b4ea068d6b7802b4e3c543f4635e40ad559f744821c502767cfc08496727a8116f8c2cb5f0a042e0fdc922cd4023be250ff5f3338dc49e1155e0816d84538426fe0cca4ba92db88bd6fe05f880241fc286f66f5d9e6c775d479defcc092578f617fa759cc2ba953a034cfd5841832e073873d9f0db28a2b8d38352e9000000000000000000000000000000000000000000000000000000000000000642c31e1c28c4a8dd727449138d7e09c4614c1e6a34e66aefc5bd737552411252593413d8c10b487a1bfb1e0810ac2fb21851c1fe60b8c91cd687b02d0e5dac3f5199975a8d609e8047e96d340ef4e76ccc50db2aa92bf329824f3b97f5dac70470ade483cef45d91e917de9007c656ca571e6872ad9871219b2dacea91b00c9f6c4e38d0e00b114f9b6fbd539e1bee801cf52f431080015666efb9b323b37476410a55daecb32c1c833eb628cccaba2c7414e87872fa69fcb5fb22ed24e2d98782098a80806b44eb2bd6faed48569819b85c91fd3a3ae8400d448b6599412399ace0487802406978f95024b7480dc33aa702da14a58d72c40e560876e8afd736b6c9be5cc91bff0b0000000300000000ef830544618510d56a730082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080f13179540bcfe20c88c20ad48b49030e74c5d2d6a9ed129863617b63d82a59fb429eac8ea9b05b2c02c437719543dbed287fb09e945997a92df5f43a3e2583ac1bff0b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000f911ef822f6685061c9f3680830aa9c194ca11bde05977b3631167028862be2a173976ca1180b911c482ad56cb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000002e00000000000000000000000000000000000000000000000000000000000000480000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000007c000000000000000000000000000000000000000000000000000000000000009600000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000ca00000000000000000000000000000000000000000000000000000000000000e400000000000000000000000000000000000000000000000000000000000000fe0000000000000000000000000446ffcd69288f1a6fd6b8a87f1684b2f3a86a24e0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001040000008200000000000000000000000000000000000000000000000001faf8e4d972c0000000000000000000000000000000000000000000000000000000000066fa8e350000000000000000000000000000000000000000000000000000000000000060682441781509afa2c23b18e4f073b72d1194d94b295d90adc00146f43fa9a1e40000000000000000000000003cb90f2136ef401b59b115c9b3e3b58e4ccaa56b0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000375c5d2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cd31fc7bdb5a172cd26194f73255247985fb16dc000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000104000000820000000000000000000000000000000000000000000000996b7523adc40fa0e70000000000000000000000000000000000000000000000000000000066fa8dd200000000000000000000000000000000000000000000000000000000000000606af881322f1134031079f0f6231f245c836ba35f4cf2ded5eab0df6e853aae85000000000000000000000000edfaf9f64d2c640426e8fb0adbd6949e4a7f8d27000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000030c5cd2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b280805e090b205681ab7309ddb16056c08111aa000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000104000000820000000000000000000000000000000000000000000000000de0b6b4158596770000000000000000000000000000000000000000000000000000000066fa8dc60000000000000000000000000000000000000000000000000000000000000060a9b270f2f6d8d7d624e6cbffb6e99a75051c3fa30d4c2a3a9d5bc5a3b891e03a000000000000000000000000e38e7c70528bd83a54f491f1fbfa5dc2da8f5204000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000030c5cc5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000107db1e78c406037e8373a51f9a68205d6cd83d9000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000104000000820000000000000000000000000000000000000000000000000e76525a3aa785930000000000000000000000000000000000000000000000000000000066fa8e3e0000000000000000000000000000000000000000000000000000000000000060815225d5d8877015d24fce1ee6748852e579771056f484fd2b062c72763825b200000000000000000000000006f8b184ec09d4eb7a1434900a2c5d13694f68c0000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000030c5cd20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005bb62bdbd69d82b24d2d23ede5ae6fa0f079235f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000010400000082000000000000000000000000000000000000000000000093f760f7f4e85b700d0000000000000000000000000000000000000000000000000000000066fa8e3500000000000000000000000000000000000000000000000000000000000000602a0d3d240878d9b66be320dbc60651f9caf901b93e8b81dbf280302ec387575000000000000000000000000049db9104dfe7b73818eee999d3794f26d61c52ba000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000035c75d20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d0474af2da14b1748730931af44d9b91473681b0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001040000008200000000000000000000000000000000000000000000008dfcb3aae2372000000000000000000000000000000000000000000000000000000000000066fa8de3000000000000000000000000000000000000000000000000000000000000006000253d8062a507db634a284ae0a7978243e9f92ca931844c5cb51560170575ce000000000000000000000000040f6284fdd6e50eaf40bc426520684af0497aaa000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000035c75c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cb0abe397952844c379a29343cdb17c914f33e400000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001040000008200000000000000000000000000000000000000000000000000922d28d54890000000000000000000000000000000000000000000000000000000000066fa8e350000000000000000000000000000000000000000000000000000000000000060ecf52c5c8431d1232f0fb77c8f3cce085ab069a230f9419f333286ae83fc1289000000000000000000000000a8b19b57c8eb27624d8ddcbd48926dc587125bd4000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000030c75c50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009352ce03496aec3b820a69569dc18094171804fe000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000104000000820000000000000000000000000000000000000000000000000f8713b93472a29c0000000000000000000000000000000000000000000000000000000066fa8e4200000000000000000000000000000000000000000000000000000000000000609004e26b817f5144863f5ec540c7b33859d9f66f7030924b36d2eefc8a684d6c00000000000000000000000095fa11711a91a906b2020c520dda9bb59382a3cd000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000030cc5d2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000094962a33737c0ca3da1395da8f5914bf5a776b700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000010400000082000000000000000000000000000000000000000000000000129d3cb22e01f0000000000000000000000000000000000000000000000000000000000066fa8e3e00000000000000000000000000000000000000000000000000000000000000605f9aee65fb3b82e8c39d2ea29db0176f7661463e8d024111acd1848c3815ee6a0000000000000000000000004bbd5424bed50d8d4ec4632cd2f730e45e4b8755000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000035cc5d2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000834c4f996b8a6411aec0f8a0cf6fafd4423dbee200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000010400000082000000000000000000000000000000000000000000000008eb1ec0eb033d4a1b0000000000000000000000000000000000000000000000000000000066fa8e0e0000000000000000000000000000000000000000000000000000000000000060055af0addb0101bd90510382306d1a90d7b4883f89f40cd8a2a0c34edff0360200000000000000000000000024f5201527192361b39510481c8b1a5ec5077d07000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000035c75d200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000082098a80809b67442823337dab5ca2ca37ee5028a628c5cf553f5dd46b001fab62c4923d9c438ca451b5f904024e2dab4d25d809dfedae41124166f40ab96ce7e7debac9e11bff0b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b0000000300000000ef83054462850db0c0cc0082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a8080f285ca48e845b0911951c6e5c7c0afdf75568e64db7bdb26f19b0dfc4a519d9f0ed6525555bf1beff47495ce1fa1ee54b842e79722aeb2e18cc8ace9ee55a7001cff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b0000000300000000ef83054463850e9936130082520894417a7ba2d8d0060ae6c54fd098590db854b9c1d58609184e72a0008082098a808021b7f7af290e7877aca5bb56fc914d07c42c11988daba2fd832b16a8de9a06a00154a0798241999537a23630df9f7c63f90374c4d9e8501984194a2b861f61ff1bff0b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000004000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b00000003000000000b0000000300000000",
            forcedGlobalExitRoot: 0x0000000000000000000000000000000000000000000000000000000000000000,
            forcedBlockHashL1: 0x0000000000000000000000000000000000000000000000000000000000000000,
            forcedTimestamp: 0
        });
        IZKEVM.BatchData[] memory fullData = new IZKEVM.BatchData[](1); // length of the array 1
        fullData[0] = data;
        uint64 maxSequenceTimestamp = 1727695956; // It must be lower than the l1BlockTimestamp
        uint64 lastSequencedBatchNumber = 127858;
        // address rm = zkevm.admin();
        // console.log(rm);
        vm.startBroadcast(sequencerAddress);
        zkevm.sequenceBatches(fullData, maxSequenceTimestamp, lastSequencedBatchNumber, sequencerAddress);
        vm.stopBroadcast();

        uint256 ts = rollupManager.totalSequencedBatches();
        console.log("final ts: ", ts);

        // vm.stopPrank(); // Stop impersonating the sequencer account
    }
}